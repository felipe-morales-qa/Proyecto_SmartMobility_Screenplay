"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PlaywrightSceneId = void 0;
const node_crypto_1 = require("node:crypto");
const model_1 = require("@serenity-js/core/lib/model");
class PlaywrightSceneId extends model_1.CorrelationId {
    static fromJSON(v) {
        return new PlaywrightSceneId(v);
    }
    static from(projectName, test, result) {
        const projectId = (0, node_crypto_1.createHash)('sha1')
            .update(projectName)
            .digest('hex')
            .slice(0, 10);
        return new PlaywrightSceneId(`${test.id}-${projectId}-${test.repeatEachIndex}-${result.retry}`);
    }
}
exports.PlaywrightSceneId = PlaywrightSceneId;
//# sourceMappingURL=PlaywrightSceneId.js.map